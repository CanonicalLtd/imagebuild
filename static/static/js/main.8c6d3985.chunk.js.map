{"version":3,"sources":["components/Messages.js","components/Utils.js","components/Header.js","components/HeaderSlim.js","components/Index.js","components/Boards.js","components/OS.js","components/constants.js","components/api.js","components/Applications.js","App.js","index.js"],"names":["T","message","Messages","Header","className","src","alt","Component","HeaderSlim","id","class","width","role","href","Index","props","state","token","Boards","handleClick","e","console","log","target","getAttribute","window","location","this","boards","map","brd","style","backgroundImage","onClick","data-key","name","renderBoards","OS","board","os","o","type","version","key","image","renderOS","API_PREFIX","Constants","baseUrl","protocol","hostname","port","service","boardsList","query","cancelCallback","axios","get","constants","Applications","renderSelected","history","createHistory","App","getBoards","api","then","response","setState","data","sectionId","subsection","filter","b","length","r","parts","pathname","split","section","parseRoute","ReactDOM","render","document","getElementById"],"mappings":"qPAGe,GACX,aAAgB,eAChB,MAAS,QACT,OAAU,SACV,sBAAuB,wCACvB,2BAA4B,yJAC5B,eAAgB,eAChB,oBAAqB,mCACrB,YAAa,8BACb,iBAAkB,wDAClB,QAAW,UACX,KAAQ,OACR,KAAQ,OACR,GAAM,mBACN,mBAAmB,kGACnB,SAAY,yCACZ,MAAS,wBCdN,SAASA,EAAEC,GAEd,OADYC,EAASD,IAAYA,E,ICmBtBE,E,iLAhBX,OACE,6BAASC,UAAU,iCACf,yBAAKA,UAAU,OACT,yBAAKA,UAAW,SACZ,yBAAKC,IAAK,4BAA6BC,IAAK,YAEhD,yBAAKF,UAAU,eACX,4BAAKJ,EAAE,UACP,2BAAIA,EAAE,oB,GAVLO,aCuBNC,E,iLArBP,OACI,4BAAQC,GAAG,aAAaC,MAAM,4BAC1B,yBAAKN,UAAU,wBACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,uBACX,yBAAKC,IAAI,0BAA0BM,MAAM,aAIrD,yBAAKP,UAAU,qBACX,wBAAIA,UAAU,sBAAsBQ,KAAK,QACrC,wBAAIR,UAAU,qBAAqBQ,KAAK,YACpC,uBAAGC,KAAK,KAAR,gB,GAdHN,aC4BVO,E,YA5BX,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KACDC,MAAQ,CACTC,MAAOF,EAAME,OAAS,IAHX,E,sEAQf,OACI,yBAAKb,UAAU,OAEX,6BAASA,UAAU,OACf,yBAAKA,UAAU,OACX,6BACA,yBAAKA,UAAU,UACVJ,EAAE,qBAGP,6BACI,uBAAGI,UAAU,kBAAkBS,KAAK,UAAUP,IAAI,IAAIN,EAAE,gBAAxD,iB,GApBRO,aC0CLW,E,2MAzCXC,YAAc,SAACC,GACXC,QAAQC,IAAI,MAAOF,EAAEG,OAAOC,aAAa,aACzCC,OAAOC,SAASb,KAAO,WAAaO,EAAEG,OAAOC,aAAa,a,8EAG9C,IAAD,OACX,GAAKG,KAAKZ,MAAMa,OAEhB,OAAOD,KAAKZ,MAAMa,OAAOC,IAAI,SAAAC,GACzB,IAAIC,EAAQ,CACRC,gBAAgB,OAAD,OAAS,kBAAoBF,EAAIrB,GAAK,OAAtC,MAGnB,OACI,yBAAKL,UAAU,QAAQ2B,MAAOA,EAAOE,QAAS,EAAKd,YAAae,WAAUJ,EAAIrB,IAC1E,yBAAKyB,WAAUJ,EAAIrB,IACf,wBAAIyB,WAAUJ,EAAIrB,IAAKqB,EAAIK,Y,+BAQ3C,OACI,6BACI,6BACI,wBAAI/B,UAAU,iBACV,wBAAIA,UAAU,uBAAsB,uBAAGS,KAAK,KAAKb,EAAE,UACnD,wBAAII,UAAU,uBAAuBJ,EAAE,aAG/C,4BAAKA,EAAE,iBACP,2BAAIA,EAAE,sBAEL2B,KAAKS,oB,GApCD7B,aCgDN8B,E,2MA/CXlB,YAAc,SAACC,GACXK,OAAOC,SAASb,KAAO,WAAa,EAAKE,MAAMuB,MAAM7B,GAAK,IAAMW,EAAEG,OAAOC,aAAa,a,0EAG9E,IAAD,OACP,OAAOG,KAAKZ,MAAMuB,MAAMC,GAAGV,IAAI,SAAAW,GAC3B,IAAI/B,EAAG+B,EAAEC,KAAOD,EAAEE,QAClB,OACI,yBAAKtC,UAAU,KAAKuC,IAAKlC,EAAIyB,WAAUzB,EAAIwB,QAAS,EAAKd,aACrD,yBAAKd,IAAI,4BAA4BC,IAAI,SAAS4B,WAAUzB,IAC5D,wBAAIyB,WAAUzB,GAAKT,EAAEwC,EAAEC,OACvB,uBAAGP,WAAUzB,GAAKT,EAAEwC,EAAEE,e,+BAOlC,IAAIE,EAAO,kBAAoBjB,KAAKZ,MAAMuB,MAAM7B,GAAK,OACrD,OACI,6BACI,6BACI,wBAAIL,UAAU,iBACV,wBAAIA,UAAU,uBAAsB,uBAAGS,KAAK,KAAKb,EAAE,UACnD,wBAAII,UAAU,uBAAsB,uBAAGS,KAAM,YAAab,EAAE,WAC5D,wBAAII,UAAU,uBAAuBJ,EAAE,SAG/C,yBAAKI,UAAU,OACX,yBAAKA,UAAU,SACX,yBAAKC,IAAKuC,EAAOtC,IAAKqB,KAAKZ,MAAMuB,MAAMH,KAAMxB,MAAM,WAEvD,yBAAKP,UAAU,yBACX,4BAAKuB,KAAKZ,MAAMuB,MAAMH,QAI9B,4BAAKnC,EAAE,cACP,2BAAIA,EAAE,mBAEL2B,KAAKkB,gB,GAzCLtC,a,iBCHXuC,EAAa,OAMnB,IAIeC,EAJC,CACZC,QAJOvB,OAAOC,SAASuB,SAAW,KAAOxB,OAAOC,SAASwB,SAAW,IAAMzB,OAAOC,SAASyB,KAAOL,GCMtFM,EAND,CACVC,WAAa,SAACC,EAAOC,GACjB,OAAOC,IAAMC,IAAIC,EAAUV,QAAU,YCoC9BW,E,yLAnCP,IAAIf,EAAO,kBAAoBjB,KAAKZ,MAAMuB,MAAM7B,GAAK,OACrD,OACI,yBAAKL,UAAU,OACX,yBAAKA,UAAU,SACX,yBAAKC,IAAKuC,EAAOtC,IAAKqB,KAAKZ,MAAMuB,MAAMH,KAAMxB,MAAM,WAEvD,yBAAKP,UAAU,yBACX,4BAAKuB,KAAKZ,MAAMuB,MAAMH,MACtB,qCAAWnC,EAAE2B,KAAKZ,MAAMwB,GAAGE,MAA3B,IAAmCd,KAAKZ,MAAMwB,GAAGG,a,+BAO7D,OACI,6BACI,6BACI,wBAAItC,UAAU,iBACV,wBAAIA,UAAU,uBAAsB,uBAAGS,KAAK,KAAKb,EAAE,UACnD,wBAAII,UAAU,uBAAsB,uBAAGS,KAAM,YAAab,EAAE,WAC5D,wBAAII,UAAU,uBAAsB,uBAAGS,KAAM,WAAac,KAAKZ,MAAMuB,MAAM7B,IAAKT,EAAE,QAClF,wBAAII,UAAU,uBAAuBJ,EAAE,mBAI9C2B,KAAKiC,iBAEN,4BAAK5D,EAAE,wBACP,2BAAIA,EAAE,kC,GAhCKO,a,QCKrBsD,E,MAAUC,KAgEDC,E,YA7DX,WAAYhD,GAAQ,IAAD,8BACf,4CAAMA,KACDC,MAAQ,CACTU,SAAUmC,EAAQnC,SAClBT,MAAOF,EAAME,OAAS,GACtBW,OAAQ,IAGZ,EAAKoC,YARU,E,yEAWN,IAAD,OACRC,EAAIZ,aAAaa,KAAK,SAAAC,GAClB,EAAKC,SAAS,CAACxC,OAAQuC,EAASE,KAAKzC,a,mCAIhC0C,EAAWC,GACpB,IAAKD,EACD,OAAO,kBAAC,EAAD,CAAQ1C,OAAQD,KAAKX,MAAMY,SAItC,IAAIU,EAAQX,KAAKX,MAAMY,OAAO4C,OAAQ,SAAAC,GAClC,OAAOA,EAAEhE,KAAO6D,IAEpB,GAAqB,IAAjBhC,EAAMoC,OAAV,CAGA,IAAKH,EACD,OAAO,kBAAC,EAAD,CAAIjC,MAAOA,EAAM,KAI5B,IAAIC,EAAKD,EAAM,GAAGC,GAAGiC,OAAQ,SAAAhC,GACzB,OAAOA,EAAE/B,KAAO8D,IAEpB,GAAkB,IAAdhC,EAAGmC,OAGP,OAAO,kBAAC,EAAD,CAAcpC,MAAOA,EAAM,GAAIC,GAAIA,EAAG,Q,+BAI7C,IAAMoC,ET5CP,WACH,IAAMC,EAAQnD,OAAOC,SAASmD,SAASC,MAAM,KAE7C,OAAQF,EAAMF,QACV,KAAK,EACD,MAAO,CAACK,QAASH,EAAM,IAC3B,KAAK,EACD,MAAO,CAACG,QAASH,EAAM,GAAIN,UAAWM,EAAM,IAChD,KAAK,EACD,MAAO,CAACG,QAASH,EAAM,GAAIN,UAAWM,EAAM,GAAIL,WAAYK,EAAM,IACtE,QACI,MAAO,ISiCDI,GAGV,OAFA3D,QAAQC,IAAIqD,GAGV,yBAAKvE,UAAU,OACE,KAAZuE,EAAEI,QAAc,kBAAC,EAAD,MAAa,GACjB,KAAZJ,EAAEI,QAAc,kBAAC,EAAD,MAAiB,GAElC,yBAAK3E,UAAU,eACE,KAAZuE,EAAEI,QAAc,kBAAC,EAAD,MAAY,GAChB,WAAZJ,EAAEI,QAAoBpD,KAAKS,aAAauC,EAAEL,UAAWK,EAAEJ,YAAc,S,GAvDtEhE,aCRlB0E,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.8c6d3985.chunk.js","sourcesContent":["// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nexport default {\n    'applications': 'Applications',\n    'board': 'Board',\n    'boards': 'Boards',\n    'choose-applications': 'Choose the Pre-installed Applications',\n    'choose-applications-desc': 'Select the applications that will be pre-installed on the device. For Ubuntu Core this will be snaps, for Ubuntu Classic it will be snaps or packages.',\n    'choose-board': 'Choose Board',\n    'choose-board-desc': 'Select the board for your device',\n    'choose-os': 'Choose the Operating System',\n    'choose-os-desc': 'Select the version of Ubuntu to install on the device',\n    'classic': 'Classic',\n    'core': 'Core',\n    'home': 'Home',\n    'os': 'Operating System',\n    'site-description': `Choose your board. Select the Operating System. Pick your pre-installed applications. Let's go!`,\n    'subtitle': 'image building service for IoT devices',\n    'title': 'Ubuntu Image Builder',\n}","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport Messages from './Messages'\n\nexport function T(message) {\n    const msg = Messages[message] || message;\n    return msg\n}\n\n// URL is in the form:\n//  /section\n//  /section/sectionId\n//  /section/sectionId/subsection\nexport function parseRoute() {\n    const parts = window.location.pathname.split('/')\n\n    switch (parts.length) {\n        case 2:\n            return {section: parts[1]}\n        case 3:\n            return {section: parts[1], sectionId: parts[2]}\n        case 4:\n            return {section: parts[1], sectionId: parts[2], subsection: parts[3]}\n        default:\n            return {}\n    }\n}","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, { Component } from 'react';\nimport {T} from './Utils'\n\n\nclass Header extends Component {\n  render() {\n    return (\n      <section className=\"p-strip--image is-dark header\">\n          <div className=\"row\">\n                <div className={\"col-1\"}>\n                    <img src={\"/static/images/ubuntu.png\"} alt={\"ubuntu\"} />\n                </div>\n                <div className=\"col-5 title\">\n                    <h1>{T('title')}</h1>\n                    <p>{T('subtitle')}</p>\n                </div>\n          </div>\n      </section>\n    );\n  }\n}\n\nexport default Header;\n","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, { Component } from 'react';\nimport {T} from './Utils'\n\n\nclass HeaderSlim extends Component {\n    render() {\n        return (\n            <header id=\"navigation\" class=\"p-navigation header-slim\">\n                <div className=\"p-navigation__banner\">\n                    <div className=\"p-navigation__logo\">\n                        <div className=\"u-vertically-center\">\n                            <img src=\"/static/images/logo.png\" width=\"100px\"  />\n                        </div>\n                    </div>\n                </div>\n                <nav className=\"p-navigation__nav\">\n                    <ul className=\"p-navigation__links\" role=\"menu\">\n                        <li className=\"p-navigation__link\" role=\"menuitem\">\n                            <a href=\"/\">Home</a>\n                        </li>\n                    </ul>\n                </nav>\n            </header>\n        );\n    }\n}\n\nexport default HeaderSlim;\n","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass Index extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            token: props.token || {},\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"row\">\n\n                <section className=\"row\">\n                    <div className=\"row\">\n                        <br />\n                        <div className=\"p-card\">\n                            {T('site-description')}\n                        </div>\n\n                        <div>\n                            <a className=\"p-button--brand\" href=\"/boards\" alt=\"\">{T('choose-board')} &raquo;</a>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default Index;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass Boards extends Component {\n    handleClick = (e) => {\n        console.log('---', e.target.getAttribute('data-key'))\n        window.location.href = '/boards/' + e.target.getAttribute('data-key')\n    }\n\n    renderBoards() {\n        if (!this.props.boards) return;\n\n        return this.props.boards.map(brd => {\n            let style = {\n                backgroundImage: `url(${'/static/images/' + brd.id + '.png'})`\n            }\n\n            return (\n                <div className=\"board\" style={style} onClick={this.handleClick} data-key={brd.id}>\n                    <div data-key={brd.id}>\n                        <h3 data-key={brd.id}>{brd.name}</h3>\n                    </div>\n                </div>\n            )\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <div>\n                    <ul className=\"p-breadcrumbs\">\n                        <li className=\"p-breadcrumbs__item\"><a href=\"/\">{T('home')}</a></li>\n                        <li className=\"p-breadcrumbs__item\">{T('boards')}</li>\n                    </ul>\n                </div>\n                <h2>{T('choose-board')}</h2>\n                <p>{T('choose-board-desc')}</p>\n\n                {this.renderBoards()}\n            </div>\n        );\n    }\n}\n\nexport default Boards;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass OS extends Component {\n    handleClick = (e) => {\n        window.location.href = '/boards/' + this.props.board.id + '/' + e.target.getAttribute('data-key')\n    }\n\n    renderOS() {\n        return this.props.board.os.map(o => {\n            let id=o.type + o.version\n            return (\n                <div className=\"os\" key={id} data-key={id} onClick={this.handleClick}>\n                    <img src=\"/static/images/ubuntu.png\" alt=\"Ubuntu\" data-key={id} />\n                    <h4 data-key={id}>{T(o.type)}</h4>\n                    <p data-key={id}>{T(o.version)}</p>\n                </div>\n            )\n        })\n    }\n\n    render() {\n        let image ='/static/images/' + this.props.board.id + '.png'\n        return (\n            <div>\n                <div>\n                    <ul className=\"p-breadcrumbs\">\n                        <li className=\"p-breadcrumbs__item\"><a href=\"/\">{T('home')}</a></li>\n                        <li className=\"p-breadcrumbs__item\"><a href={'/boards/'}>{T('board')}</a></li>\n                        <li className=\"p-breadcrumbs__item\">{T('os')}</li>\n                    </ul>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-1\">\n                        <img src={image} alt={this.props.board.name} width=\"100px\" />\n                    </div>\n                    <div className=\"col-5 u-align--bottom\">\n                        <h4>{this.props.board.name}</h4>\n                    </div>\n                </div>\n\n                <h2>{T('choose-os')}</h2>\n                <p>{T('choose-os-desc')}</p>\n\n                {this.renderOS()}\n            </div>\n        );\n    }\n}\n\n\nexport default OS;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nconst API_PREFIX = '/v1/'\n\nfunction getBaseURL() {\n    return window.location.protocol + '//' + window.location.hostname + ':' + window.location.port + API_PREFIX;\n}\n\nvar Constants = {\n    baseUrl: getBaseURL()\n}\n\nexport default Constants","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport axios from 'axios'\nimport constants from './constants'\n\nvar service = {\n    boardsList:  (query, cancelCallback) => {\n        return axios.get(constants.baseUrl + 'boards');\n    },\n}\n\nexport default service","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass Applications extends Component {\n\n    renderSelected() {\n        let image ='/static/images/' + this.props.board.id + '.png'\n        return (\n            <div className=\"row\">\n                <div className=\"col-1\">\n                    <img src={image} alt={this.props.board.name} width=\"100px\" />\n                </div>\n                <div className=\"col-5 u-align--bottom\">\n                    <h4>{this.props.board.name}</h4>\n                    <p>Ubuntu {T(this.props.os.type)} {this.props.os.version}</p>\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div>\n                <div>\n                    <ul className=\"p-breadcrumbs\">\n                        <li className=\"p-breadcrumbs__item\"><a href=\"/\">{T('home')}</a></li>\n                        <li className=\"p-breadcrumbs__item\"><a href={'/boards/'}>{T('board')}</a></li>\n                        <li className=\"p-breadcrumbs__item\"><a href={'/boards/' + this.props.board.id}>{T('os')}</a></li>\n                        <li className=\"p-breadcrumbs__item\">{T('applications')}</li>\n                    </ul>\n                </div>\n\n                {this.renderSelected()}\n\n                <h2>{T('choose-applications')}</h2>\n                <p>{T('choose-applications-desc')}</p>\n            </div>\n        )\n    }\n}\n\nexport default Applications","import React, { Component } from 'react';\nimport Header from './components/Header';\nimport HeaderSlim from './components/HeaderSlim';\nimport Index from './components/Index';\nimport Boards from './components/Boards';\nimport OS from './components/OS';\nimport api from './components/api';\nimport {parseRoute} from './components/Utils'\nimport Applications from \"./components/Applications\";\n\nimport createHistory from 'history/createBrowserHistory'\nconst history = createHistory()\n\nclass App extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            location: history.location,\n            token: props.token || {},\n            boards: [],\n        }\n\n        this.getBoards()\n    }\n\n    getBoards() {\n        api.boardsList().then(response => {\n            this.setState({boards: response.data.boards})\n        })\n    }\n\n    renderBoards(sectionId, subsection) {\n        if (!sectionId) {\n            return <Boards boards={this.state.boards} />\n        }\n\n        // Get the board\n        let board = this.state.boards.filter( b => {\n            return b.id === sectionId\n        })\n        if (board.length === 0) {\n            return\n        }\n        if (!subsection) {\n            return <OS board={board[0]}/>\n        }\n\n        // Get the OS\n        let os = board[0].os.filter( o => {\n            return o.id === subsection\n        })\n        if (os.length === 0) {\n            return\n        }\n        return <Applications board={board[0]} os={os[0]} />\n    }\n\n    render() {\n        const r = parseRoute()\n        console.log(r)\n\n        return (\n          <div className=\"App\">\n              {r.section===''? <Header /> : ''}\n              {r.section!==''? <HeaderSlim /> : ''}\n\n              <div className=\"content row\">\n                  {r.section===''? <Index /> : ''}\n                  {r.section==='boards'? this.renderBoards(r.sectionId, r.subsection) : ''}\n              </div>\n          </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}