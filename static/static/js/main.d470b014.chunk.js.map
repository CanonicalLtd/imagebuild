{"version":3,"sources":["components/Messages.js","components/Utils.js","components/Footer.js","components/HeaderSlim.js","components/Header.js","components/Index.js","components/Boards.js","components/OS.js","components/constants.js","components/api.js","components/Pagination.js","components/Snaps.js","components/Applications.js","components/Confirm.js","components/Breadcrumbs.js","App.js","index.js"],"names":["T","message","Messages","getSelection","s","localStorage","getItem","JSON","parse","Footer","id","className","role","href","Component","HeaderSlim","class","src","width","Header","Index","props","state","token","alt","Boards","this","boards","map","brd","name","renderBoards","OS","board","os","o","type","version","key","onClick","handleClick","renderOS","API_PREFIX","Constants","baseUrl","window","location","protocol","hostname","port","LoadingImage","missingIcon","service","boardsList","query","cancelCallback","axios","get","constants","buildRequest","post","buildFetch","storeSearch","snapName","bld","Pagination","pageUp","pages","calculatePages","page","signalPageChange","pageDown","pageSet","e","parseInt","target","getAttribute","setState","maxRecords","pageSize","startRow","pageChange","length","displayRows","band","disabled","data-key","renderPaging","PAGELENGTH","SnapDialogBox","handleClear","snaps","currentSearch","handleSearchChange","preventDefault","value","handleKeyPress","stopPropagation","searchStore","handleSearchStore","handleInstall","snap","handleInstallClick","handleRecordsForPage","endRow","loadingSearch","boardId","osId","api","then","response","data","_embedded","messageType","slice","snap_id","title","description","icon_url","package_name","developer_name","filesize","binary_filesize","onKeyPress","onChange","placeholder","renderSnaps","Applications","handleSnapInstall","indexOf","push","handleSnapOnChange","handleDialogCancel","handleRemove","filter","handleConfirm","stringify","setItem","saveSelection","selected","renderSelected","Snaps","handleTextChange","handleCancelClick","Confirm","poll","setTimeout","getBuildStatus","bind","handleBuild","buildURL","building","messages","downloads","link","b","start","build","date_started","moment","fromNow","m","buildstate","build_log_url","d","parts","split","filename","console","log","extensions","renderMessage","renderConsole","renderDownloads","Breadcrumbs","r","route","boardsActive","section","sectionId","osActive","subsection","appsActive","subsubsection","history","createHistory","App","getBoards","pathname","parseRoute","renderConfirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d470b014.chunk.js","sourcesContent":["// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nexport default {\n    'add': 'Add',\n    'add-application': 'Add application',\n    'applications': 'Applications',\n    'board': 'Board',\n    'boards': 'Boards',\n    'build': \"Let's go!\",\n    'build-in-progress': \"Build in progress\",\n    'choose-applications': 'Choose the Pre-installed Applications',\n    'choose-applications-desc': 'Select the applications that will be pre-installed on the device. For Ubuntu Core this will be snaps, for Ubuntu Classic it will be snaps or packages.',\n    'choose-board': 'Choose Board',\n    'choose-board-desc': 'Select the board for your device.',\n    'choose-os': 'Choose the Operating System',\n    'choose-os-desc': 'Select the version of Ubuntu to install on the device.',\n    'classic': 'Classic',\n    'confirm': 'Confirm',\n    'confirm-configuration': 'Confirm board configuration',\n    'copyright': 'Â© 2019 Canonical Ltd. Ubuntu and Canonical are registered trademarks of Canonical Ltd.',\n    'core': 'Core',\n    'downloads': 'Downloads',\n    'find-snaps': 'Find snaps to install',\n    'get-started': 'Get started',\n    'home': 'Home',\n    'legal': 'Legal information',\n    'os': 'Operating System',\n    'pre-installed-snaps': 'Pre-installed snaps',\n    'privacy': 'Data privacy',\n    'ready-to-build': 'Ready to build the Ubuntu image?',\n    'remove': 'X',\n    'remove-application': 'Remove application',\n    'report-a-bug': 'Report a bug on this site',\n    'select-board': 'Select board',\n    'select-version': 'Select version',\n    'site-description1': `Choose your board`,\n    'site-description2': `Select the Operating System`,\n    'site-description3': `Pick your pre-installed applications`,\n    'search-store': 'Enter snap name',\n    'snap': 'snap',\n    'snap-name': 'Snap name',\n    'snaps': 'snaps',\n    'snap-store': 'Snap Store',\n    'subtitle': 'Image building service for IoT devices.',\n    'title': 'Ubuntu Image Builder',\n}","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport Messages from './Messages'\n\nexport function T(message) {\n    const msg = Messages[message] || message;\n    return msg\n}\n\n// URL is in the form:\n//  /section\n//  /section/sectionId\n//  /section/sectionId/subsection\nexport function parseRoute() {\n    const parts = window.location.pathname.split('/')\n\n    switch (parts.length) {\n        case 2:\n            return {section: parts[1]}\n        case 3:\n            return {section: parts[1], sectionId: parts[2]}\n        case 4:\n            return {section: parts[1], sectionId: parts[2], subsection: parts[3]}\n        default:\n            return {}\n    }\n}\n\nexport function saveSelection(board) {\n    let s = JSON.stringify(board)\n    localStorage.setItem('board', s)\n}\n\nexport function getSelection() {\n    let s = localStorage.getItem('board')\n    let b = JSON.parse(s)\n    return b\n}\n","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass Footer extends Component {\n    render() {\n        return (\n            <div id=\"footer\">\n                <div className=\"row footer\">\n                    <p>{T('copyright')}</p>\n                    <nav className=\"p-footer__nav\" role=\"navigation\">\n                        <ul className=\"p-footer__links\">\n                            <li className=\"p-footer__item\">\n                                <a className=\"p-footer__link\" href=\"https://ubuntu.com/legal\">{T('legal')}</a>\n                            </li>\n                            <li className=\"p-footer__item\">\n                                <a className=\"p-footer__link\" href=\"https://ubuntu.com/legal/data-privacy\">{T('privacy')}</a>\n                            </li>\n                            <li className=\"p-footer__item\">\n                                <a className=\"p-footer__link\" href=\"https://github.com/CanonicalLtd/imagebuild/issues/new\">{T('report-a-bug')}</a>\n                            </li>\n                        </ul>\n                    </nav>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Footer;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, { Component } from 'react';\n\nclass HeaderSlim extends Component {\n    render() {\n        return (\n            <header id=\"navigation\" class=\"p-navigation header-slim\">\n                <div className=\"p-navigation__banner row\">\n                    <div className=\"p-navigation__logo\">\n                        <div className=\"u-vertically-center\">\n                            <img src=\"/static/images/logo.png\" width=\"150px\"  />\n                        </div>\n                    </div>\n                </div>\n            </header>\n        );\n    }\n}\n\nexport default HeaderSlim;\n","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, { Component } from 'react';\nimport HeaderSlim from \"./HeaderSlim\";\nimport {T} from './Utils'\n\n\nclass Header extends Component {\n  render() {\n    return (\n      <div>\n          <HeaderSlim />\n          <section className=\"p-strip--image is-dark header\">\n              <div className=\"row\">\n                    <div className=\"col-5 title\">\n                        <h1>{T('title')}</h1>\n                        <p>{T('subtitle')}</p>\n                    </div>\n              </div>\n          </section>\n      </div>\n    );\n  }\n}\n\nexport default Header;\n","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass Index extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            token: props.token || {},\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"row\">\n\n                <section className=\"row\">\n                    <div className=\"row\">\n                        <div className=\"first\">\n                            <h2>{T('get-started')}</h2>\n                            <ul className=\"p-list\">\n                                <li className=\"p-list__item is-ticked\">{T('site-description1')}</li>\n                                <li className=\"p-list__item is-ticked\">{T('site-description2')}</li>\n                                <li className=\"p-list__item is-ticked\">{T('site-description3')}</li>\n                            </ul>\n                            <p>{T('build')}</p>\n                            <a className=\"p-button--brand\" href=\"/boards\" alt=\"\">{T('choose-board')}</a>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default Index;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass Boards extends Component {\n    renderBoards() {\n        if (!this.props.boards) return;\n\n        return this.props.boards.map(brd => {\n            return (\n                <div className=\"p-card board\">\n                    <div className=\"p-card__title\">\n                        <img src={'/static/images/' + brd.id + '.png'} />\n                    </div>\n                    <div className=\"p-card__content\">\n                        <hr />\n                        <h4 >{brd.name}</h4>\n                        <a href={'/boards/' + brd.id} className=\"p-button--neutral is-inline\">{T('select-board')}</a>\n                    </div>\n                </div>\n            )\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"first\">\n                <h2>{T('choose-board')}</h2>\n                <p>{T('choose-board-desc')}</p>\n\n                {this.renderBoards()}\n            </div>\n        );\n    }\n}\n\nexport default Boards;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass OS extends Component {\n    renderOS() {\n        return this.props.board.os.map(o => {\n            let id=o.type + o.version\n            return (\n                <div className=\"p-card os\" key={id}  onClick={this.handleClick}>\n                    <h3 className=\"u-vertically-center\">\n                        {T(o.type)} {T(o.version)}\n                    </h3>\n                    <a href={'/boards/' + this.props.board.id + '/' + id} className=\"p-button--neutral is-inline\">{T('select-version')}</a>\n                </div>\n            )\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"first\">\n                <h2>{T('choose-os')}</h2>\n                <p>{T('choose-os-desc')}</p>\n\n                <div className=\"summary\">\n                    <p><i className=\"p-icon--success\" />{this.props.board.name}</p>\n                </div>\n\n                {this.renderOS()}\n            </div>\n        );\n    }\n}\n\n\nexport default OS;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nconst API_PREFIX = '/v1/'\n\nfunction getBaseURL() {\n    return window.location.protocol + '//' + window.location.hostname + ':' + window.location.port + API_PREFIX;\n}\n\nlet Constants = {\n    baseUrl: getBaseURL(),\n    LoadingImage: '/static/images/ajax-loader.gif',\n    missingIcon: '/static/images/snapcraft-missing-icon.svg',\n}\n\nexport default Constants","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport axios from 'axios'\nimport constants from './constants'\n\nlet service = {\n    boardsList:  (query, cancelCallback) => {\n        return axios.get(constants.baseUrl + 'boards');\n    },\n\n    buildRequest:  (query, cancelCallback) => {\n        return axios.post(constants.baseUrl + 'build', query);\n    },\n\n    buildFetch:  (query, cancelCallback) => {\n        return axios.post(constants.baseUrl + 'build/fetch', query);\n    },\n\n    storeSearch: (snapName, bld, cancelCallback) => {\n        return axios.post(constants.baseUrl + 'store/snaps/' + snapName, bld);\n    },\n}\n\nexport default service","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, { Component } from 'react'\n\nclass Pagination extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            //page: 1,\n            query: null,\n            maxRecords: props.pageSize | 10,\n        }\n    }\n\n    pageUp = () => {\n        let pages = this.calculatePages();\n        let page = this.props.page + 1\n        if (page > pages) {\n            page = pages;\n        }\n        this.signalPageChange(page);\n    }\n\n    pageDown = () => {\n        let page = this.props.page - 1\n        if (page <= 0) {\n            page = 1;\n        }\n        this.signalPageChange(page);\n    }\n\n    pageSet  = (e) => {\n        let page = parseInt(e.target.getAttribute('data-key'))\n        this.setState({page: page});\n        this.signalPageChange(page);\n    }\n\n    signalPageChange(page) {\n        // Signal the rows that the owner should display\n        var startRow = ((page - 1) * this.state.maxRecords);\n\n        this.props.pageChange(page, startRow, startRow + this.state.maxRecords);\n    }\n\n    calculatePages() {\n        // Use the filtered row count when we a query has been entered\n        var length = this.props.displayRows.length;\n\n        var pages = parseInt(length / this.state.maxRecords, 10);\n        if (length % this.state.maxRecords > 0) {\n            pages += 1;\n        }\n\n        return pages;\n    }\n\n    renderPaging() {\n        let pages = this.calculatePages();\n        let band = parseInt((this.props.page - 0.1) / 3);\n        if (pages > 1) {\n            return (\n                <div className=\"u-float--right spacer\">\n                    <button className=\"p-button--neutral small\" onClick={this.pageDown} disabled={this.props.page===1 ? 'disabled': ''}>&lsaquo;</button>\n                    <button className={((band * 3) + 1)===this.props.page ? 'p-button--neutral small active' : 'p-button--neutral small'} onClick={this.pageSet} data-key={(band * 3) + 1}>{(band * 3) + 1}</button>\n                    {((band * 3) + 2) <= pages ? <button className={((band * 3) + 2)===this.props.page ? 'p-button--neutral small active' : 'p-button--neutral small'} onClick={this.pageSet} data-key={(band * 3) + 2}>{(band * 3) + 2}</button> : ''}\n                    {((band * 3) + 3) <= pages ? <button className={((band * 3) + 3)===this.props.page ? 'p-button--neutral small active' : 'p-button--neutral small'} onClick={this.pageSet} data-key={(band * 3) + 3}>{(band * 3) + 3}</button> : ''}\n                    <button className=\"p-button--neutral small\" href=\"\" onClick={this.pageUp} disabled={this.props.page===pages ? 'disabled': ''}>&rsaquo;</button>\n                </div>\n            );\n        } else {\n            return <div className=\"u-float--right\" />;\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"col-12 pagination u-align--center\">\n                {this.renderPaging()}\n            </div>\n        );\n    }\n}\n\nexport default Pagination\n\n\n//1 2 3 4 5 6 7 8 9 10\n//--0--","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport api from './api';\nimport Pagination from './Pagination';\nimport Constants from './constants';\nimport {T} from './Utils';\nimport filesize from 'filesize'\n\nconst PAGELENGTH = 10;\n\nclass SnapDialogBox extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            currentSearch: '',\n            snapName: '',\n            snaps: [],\n            loadingSearch: false,\n\n            page: 1,\n            startRow: 0,\n            endRow: PAGELENGTH,\n        };\n    }\n\n    searchStore() {\n        if (this.state.snapName.length===0) {\n            this.setState({currentSearch: ''})\n            return\n        }\n        let bld = {boardId: this.props.board.id, osId: this.props.os.id}\n\n        this.setState({loadingSearch: true})\n\n        api.storeSearch(this.state.snapName, bld).then(response => {\n            if ((response.data._embedded) && (response.data._embedded['clickindex:package'])) {\n                this.setState({snaps: response.data._embedded['clickindex:package'], loadingSearch: false, message: null, messageType: null, currentSearch: this.state.snapName, page: 1, startRow: 0, endRow: PAGELENGTH})\n            }\n        })\n    }\n\n    handleClear = (e) => {\n        this.setState({snaps: [], currentSearch: ''})\n    }\n\n    handleSearchChange = (e) => {\n        e.preventDefault()\n        this.setState({snapName: e.target.value})\n    }\n\n    handleKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            e.stopPropagation()\n            this.searchStore()\n        }\n    }\n\n    handleSearchStore = (e) => {\n        e.preventDefault()\n        this.searchStore()\n    }\n\n    handleInstall = (e) => {\n        e.preventDefault()\n        var snap = e.target.getAttribute('data-key')\n\n        this.props.handleInstallClick(snap);\n    }\n\n    handleRecordsForPage = (page, startRow, endRow) => {\n        this.setState({page: page, startRow: startRow, endRow: endRow});\n    }\n\n    renderSnaps(snaps) {\n        if (snaps.length > 0) {\n\n            return (\n                <div>\n                    <p>{snaps.length} snaps found</p>\n                    <table className=\"store\">\n                        <thead>\n                            <tr>\n                                <th>{T('snap-name')}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {snaps.slice(this.state.startRow, this.state.endRow).map(s => {\n                            return (\n                                <tr key={s.snap_id} title={s.description}>\n                                    <td className=\"overflow\">\n                                        <img src={s.icon_url || Constants.missingIcon} width=\"30px\" />\n                                    \n                                        <button data-key={s.package_name} className=\"p-button--neutral small\" title={T(\"add-application\")} onClick={this.handleInstall}>\n                                            {T('add')}\n                                        </button>\n\n                                        <b>{s.package_name}</b> {s.version}<br />\n                                        {s.developer_name} ({filesize(s.binary_filesize)})\n                                    </td>\n                                </tr>\n                            )\n                        })}\n                        </tbody>\n                    </table>\n                </div>\n            )\n        } else if (this.state.currentSearch.length > 0) {\n            return <div>No snaps found.</div>\n        }\n    }\n\n    render() {\n        var snaps = this.state.snaps\n\n        if (this.props.message) {\n            return (\n                <div className=\"col-6 snaps\">\n                    <h4>\n                        {this.state.loadingSearch ? <img src={Constants.LoadingImage} alt={T('loading')} /> : ''}\n                        {this.props.message}\n                    </h4>\n                    <p>\n                        <form className=\"p-search-box\">\n                            <input className=\"p-search-box__input\" type=\"search\" name=\"snapname\" onKeyPress={this.handleKeyPress} onChange={this.handleSearchChange} placeholder={T('search-store')} />\n                            <button type=\"reset\" className=\"p-search-box__reset\" alt=\"reset\" disabled=\"\" onClick={this.handleClear}><i className=\"p-icon--close\" /></button>\n                            <button type=\"submit\" onClick={this.handleSearchStore} className=\"p-search-box__button\" alt=\"search\"><i className=\"p-icon--search\" /></button>\n                        </form>\n                    </p>\n\n                    {this.renderSnaps(snaps)}\n\n                    <Pagination displayRows={snaps}\n                                pageSize={PAGELENGTH}\n                                page={this.state.page}\n                                pageChange={this.handleRecordsForPage} />\n                </div>\n            );\n        } else {\n            return <span />;\n        }\n    }\n}\n\nexport default SnapDialogBox;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T, saveSelection, getSelection} from './Utils'\nimport Snaps from './Snaps'\n\nclass Applications extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            snaps: [],\n        };\n\n        let selected = getSelection()\n        if (selected && selected.snaps && selected.snaps.length > 0) {\n            this.state.snaps = selected.snaps\n        }\n    }\n    renderSelected() {\n        return (\n            <div className=\"row summary\">\n                <p><i className=\"p-icon--success\" />{this.props.board.name}</p>\n                <p><i className=\"p-icon--success\" />Ubuntu {T(this.props.os.type)} {this.props.os.version}</p>\n            </div>\n        )\n    }\n\n    handleSnapInstall = (snap) => {\n        // Check we don't have the snap\n        if (this.state.snaps.indexOf(snap) >= 0) {\n            return\n        }\n\n        let snaps = this.state.snaps\n        snaps.push(snap)\n        this.setState({snaps: snaps})\n    }\n\n    handleSnapOnChange= (e) => {\n        e.preventDefault();\n        this.setState({snapName: e.target.value});\n    }\n\n    handleDialogCancel = (e) => {\n        e.preventDefault();\n    }\n\n    handleRemove = (e) => {\n        e.preventDefault();\n        let snap = e.target.getAttribute('data-key')\n        let snaps = this.state.snaps.filter(s => {\n            return s !== snap\n        })\n        this.setState({snaps: snaps});\n    }\n\n    handleConfirm = (e) => {\n        e.preventDefault();\n\n        // Save the settings as JSON string to local storage\n        let board = {\n            board: this.props.board,\n            os: this.props.os,\n            snaps: this.state.snaps\n        }\n        saveSelection(board)\n\n        // Navigate to the confirmation page\n        window.location.href = '/confirm'\n    }\n\n    render() {\n        return (\n            <div className=\"first\">\n\n                <h2>{T('choose-applications')}</h2>\n                <p>{T('choose-applications-desc')}</p>\n\n                {this.renderSelected()}\n\n                <div className=\"row\">\n                    <Snaps message={T('find-snaps')}\n                           board={this.props.board}\n                           os={this.props.os}\n                           handleTextChange={this.handleSnapOnChange}\n                           handleInstallClick={this.handleSnapInstall}\n                           handleCancelClick={this.handleDialogCancel} />\n                    <div className=\"col-4\">\n                        <p className=\"p-muted-heading\">{T('pre-installed-snaps')}</p>\n                        <hr className=\"lean\" />\n                        <ul className=\"p-list\">\n                        {this.state.snaps.map(s => {\n                            return (\n                                <li className=\"p-list__item hover\">\n                                    {s} &nbsp;\n                                    <button data-key={s} className=\"p-button--neutral small hover__hover\" title={T(\"remove-application\")} onClick={this.handleRemove}>\n                                        {T('remove')}\n                                    </button>\n                                </li>\n                            )\n                        })}\n                        </ul>\n                    </div>\n                </div>\n\n                <div>\n                    <button className=\"p-button--brand\" onClick={this.handleConfirm} disabled={this.state.snaps.length===0 ? 'disabled': ''}>{T('confirm')}</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Applications","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T} from \"./Utils\";\nimport api from \"./api\";\nimport moment from \"moment\";\n\nclass Confirm extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            messages: [],\n            buildURL: '',\n            downloads: [],\n            building: false,\n        };\n    }\n\n    getBuildStatus() {\n        let bld = {link: this.state.buildURL}\n        let b = {}\n\n        api.buildFetch(bld).then(response => {\n            b = response.data.build\n            let start = 'Build started: ' + b.date_started\n            if (b.date_started) {\n                start = start + ' (' + moment(b.date_started).fromNow() + ')'\n            }\n            let m = [start]\n            m.push('Status: ' + b.buildstate)\n            m.push('Type: ' + b.title)\n            m.push('Log: ' + b.build_log_url)\n            this.setState({messages: m, downloads: b.downloads})\n        })\n        .then( ()=> {\n            if ((b.buildstate !== 'Successfully built') && (b.buildstate !== 'Failed to build')) {\n                this.poll()\n            } else {\n                this.setState({building: false})\n            }\n        })\n    }\n\n    poll = () => {\n        // Poll every second\n        setTimeout(this.getBuildStatus.bind(this), 10000);\n    }\n\n    handleBuild = (e) => {\n        let selected = this.props.board\n        let bld = {boardId: selected.board.id, osId: selected.os.id, snaps: selected.snaps}\n\n        // Start the build\n        api.buildRequest(bld).then(response => {\n            this.setState({buildURL: response.data.buildURL, building: true})\n        }).then( ()=> {\n            // Monitor the build status\n            this.getBuildStatus()\n        })\n    }\n\n    renderSelected() {\n        return (\n            <div className=\"row summary\">\n                <p><i className=\"p-icon--success\" />{this.props.board.board.name}</p>\n                <p><i className=\"p-icon--success\" />Ubuntu {T(this.props.board.os.type)} {this.props.board.os.version}</p>\n                <p><i className=\"p-icon--success\" />{this.props.board.snaps.length !== 1 ? this.props.board.snaps.length + ' ' + T('snaps'): '1 '+ T('snap')}</p>\n            </div>\n        )\n    }\n\n    renderConsole() {\n        if (this.state.messages.length === 0) {\n            return\n        }\n        return (\n            <pre className=\"console\">\n                {this.state.messages.map(m => {\n                    return m + '\\n'\n                })}\n            </pre>\n        )\n    }\n\n    renderDownloads() {\n        if ((!this.state.downloads) || (this.state.downloads.length === 0)) {\n            return\n        }\n        return (\n            <div className=\"row\">\n                <h2>{T('downloads')}</h2>\n                {this.state.downloads.map(d => {\n                    let parts = d.split('/')\n                    let filename = parts[parts.length-1]\n                    console.log('---', filename)\n                    let extensions = filename.split('.')\n                    let suffix = extensions[extensions.length-1]\n                    if (suffix==='xz') {\n                        return <p><a href={d}>{filename}</a></p>\n                    }\n                })}\n            </div>\n        )\n    }\n\n    renderMessage() {\n        if (this.state.building) {\n            return (\n                <div>\n                    <img src=\"/static/images/ajax-loader.gif\" /> {T('build-in-progress')}\n                </div>\n            )\n        } else {\n            return (\n                <div>\n                    {T('ready-to-build')} &nbsp;\n                    <button className=\"p-button--brand\" onClick={this.handleBuild} disabled={this.state.building}>{T('build')}</button>\n                </div>\n            )\n        }\n    }\n\n    render() {\n        let selected = this.props.board\n        return (\n            <div className=\"first\">\n                <h2>{T('confirm-configuration')}</h2>\n                {this.renderSelected()}\n\n                <div className=\"row\">\n                    <pre>\n                        <code>\n                            board:{'\\n'}\n                            {}  name: {selected.board.name}{'\\n'}\n                            {}  os:{'\\n'}\n                            {}    type: {selected.os.type}{'\\n'}\n                            {}    version: {selected.os.version}{'\\n'}\n                            {}  snaps:{'\\n'}\n                            {selected.snaps.map(s => {\n                                return '    ' + s + '\\n'\n                            })}\n                        </code>\n                    </pre>\n                </div>\n\n                {this.renderMessage()}\n\n                <div className=\"row\">\n                    {this.renderConsole()}\n                </div>\n                {this.renderDownloads()}\n            </div>\n        );\n    }\n}\n\nexport default Confirm;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, {Component} from 'react';\nimport {T, getSelection} from \"./Utils\";\n\nclass Breadcrumbs extends Component {\n    render() {\n        let r = this.props.route;\n        let boardsActive = r.section==='boards' && !r.sectionId ? 'active' : ''\n        let osActive = r.section==='boards' && r.sectionId && !r.subsection ? 'active' : ''\n        let appsActive = r.section==='boards' && r.sectionId && r.subsection ? 'active' : ''\n\n        if (r.section==='confirm') {\n            let board =  getSelection();\n            r.section = 'boards'\n            r.sectionId = board.board.id\n            r.subsection = board.os.type + board.os.version\n            r.subsubsection = 'confirm'\n        }\n\n        return (\n            <div className=\"breadcrumbs\">\n                <div className=\"row\">\n                    <ul className=\"p-breadcrumbs\">\n                        <li className=\"p-breadcrumbs__item\"><a href=\"/\">{T('home')}</a></li>\n                        <li className={'p-breadcrumbs__item ' + boardsActive}><a href=\"/boards\">{T('boards')}</a></li>\n                        {osActive || appsActive || r.subsubsection ?\n                            <li className={'p-breadcrumbs__item ' + osActive}><a href={'/' + r.section + '/' + r.sectionId}>{T('os')}</a></li>\n                            : ''}\n                        {appsActive || r.subsubsection ?\n                            <li className={'p-breadcrumbs__item ' + appsActive}><a href={'/' + r.section + '/' + r.sectionId + '/' + r.subsection}>{T('applications')}</a></li>\n                            : ''}\n                        {r.subsubsection ? <li className=\"p-breadcrumbs__item active\"><a href=\"/confirm\">{T('confirm')}</a></li> : ''}\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Breadcrumbs;","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React, { Component } from 'react';\nimport Footer from './components/Footer';\nimport Header from './components/Header';\nimport HeaderSlim from './components/HeaderSlim';\nimport Index from './components/Index';\nimport Boards from './components/Boards';\nimport OS from './components/OS';\nimport api from './components/api';\nimport {parseRoute, getSelection} from './components/Utils'\nimport Applications from \"./components/Applications\";\nimport Confirm from \"./components/Confirm\";\n\nimport createHistory from 'history/createBrowserHistory'\nimport Breadcrumbs from \"./components/Breadcrumbs\";\nconst history = createHistory()\n\nclass App extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            location: history.location,\n            token: props.token || {},\n            boards: [],\n        }\n\n        this.getBoards()\n    }\n\n    getBoards() {\n        api.boardsList().then(response => {\n            this.setState({boards: response.data.boards})\n        })\n    }\n\n    renderBoards(sectionId, subsection) {\n        if (!sectionId) {\n            return <Boards boards={this.state.boards} />\n        }\n\n        // Get the board\n        let board = this.state.boards.filter( b => {\n            return b.id === sectionId\n        })\n        if (board.length === 0) {\n            return\n        }\n        if (!subsection) {\n            return <OS board={board[0]}/>\n        }\n\n        // Get the OS\n        let os = board[0].os.filter( o => {\n            return o.id === subsection\n        })\n        if (os.length === 0) {\n            return\n        }\n        return <Applications board={board[0]} os={os[0]} />\n    }\n\n    renderConfirm(sectionId, subsection) {\n        let board = getSelection()\n        return <Confirm board={board} />\n    }\n\n    render() {\n        const r = parseRoute()\n        console.log(r)\n\n        return (\n          <div className=\"App\">\n              {r.section===''? <Header /> : ''}\n              {r.section!==''? <HeaderSlim /> : ''}\n              {r.section!==''? <Breadcrumbs route={r} /> : ''}\n\n              <div className=\"content row\">\n                  {r.section===''? <Index /> : ''}\n                  {r.section==='boards'? this.renderBoards(r.sectionId, r.subsection) : ''}\n                  {r.section==='confirm'? this.renderConfirm(r.sectionId, r.subsection) : ''}\n              </div>\n\n              <Footer />\n          </div>\n        );\n    }\n}\n\nexport default App;\n","// Image Builder\n// Copyright 2019 Canonical Ltd.  All rights reserved.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}